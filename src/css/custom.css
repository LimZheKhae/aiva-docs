/**
 * Claude theme — matches claude.ai / platform.claude.com design tokens
 *
 * Source: [data-theme=claude] CSS custom properties from platform.claude.com
 * Typography: DM Sans (UI/nav) + Crimson Text (body) + JetBrains Mono (code)
 * Palette: warm parchment light, warm olive-brown dark, terra cotta accents
 *
 * HSL → hex conversions from Claude's actual design tokens:
 *   Light bg-000: hsl(0,0%,100%)       = #FFFFFF
 *   Light bg-100: hsl(48,33.3%,97.1%)  = #FAF9F3
 *   Light bg-200: hsl(53,28.6%,94.5%)  = #F3F1E8
 *   Light bg-300: hsl(48,25%,92.2%)    = #EDEAD F
 *   Light text-000: hsl(60,2.6%,7.6%)  = #141413
 *   Dark bg-000: hsl(60,2.1%,18.4%)    = #30302E
 *   Dark bg-100: hsl(60,2.7%,14.5%)    = #262624
 *   Dark bg-200: hsl(30,3.3%,11.8%)    = #1F1E1D
 *   Dark bg-300: hsl(60,2.6%,7.6%)     = #141413
 */

/* ─── Google Fonts ─── */
@import url('https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600&family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400;1,9..40,500&family=JetBrains+Mono:wght@400;500;600&display=swap');

/* ═══════════════════════════════════════
   LIGHT THEME
   ═══════════════════════════════════════ */
:root {
  /* ── Brand / accent — hsl(15, 54.2%, 51.2%) & hsl(15, 63.1%, 59.6%) ── */
  --ifm-color-primary: #C7593A;
  --ifm-color-primary-dark: #B34F34;
  --ifm-color-primary-darker: #A94B31;
  --ifm-color-primary-darkest: #8B3E28;
  --ifm-color-primary-light: #D06E52;
  --ifm-color-primary-lighter: #D4785E;
  --ifm-color-primary-lightest: #DE9580;

  /* ── Background tones ── */
  --ifm-background-color: #FAF9F3;          /* bg-100 */
  --ifm-background-surface-color: #F3F1E8;  /* bg-200 */

  /* ── Typography — DM Sans (UI, like Styrene) + Crimson Text (body, like Tiempos) ── */
  --ifm-font-family-base: 'Crimson Text', Georgia, 'Times New Roman', Times, serif;
  --ifm-heading-font-family: 'DM Sans', system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  --claude-font-ui: 'DM Sans', system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  --ifm-font-family-monospace: 'JetBrains Mono', 'Fira Code', 'Consolas', monospace;
  --ifm-font-size-base: 17px;
  --ifm-line-height-base: 1.6;
  --ifm-heading-font-weight: 700;
  --ifm-font-weight-bold: 600;

  /* ── Text colors ── */
  --ifm-font-color-base: #141413;       /* text-000 */
  --ifm-font-color-secondary: #3C3B38;  /* text-200/300 */
  --ifm-heading-color: #141413;          /* text-000 */

  /* ── Spacing ── */
  --ifm-spacing-horizontal: 1.25rem;
  --ifm-global-spacing: 1.25rem;

  /* ── Code ── */
  --ifm-code-font-size: 88%;
  --ifm-code-background: #F3F1E8;       /* bg-200 — same as snippet bg */
  --ifm-code-padding-vertical: 0.15rem;
  --ifm-code-padding-horizontal: 0.35rem;
  --ifm-code-border-radius: 4px;
  --prism-background-color: #141413;     /* text-000 as code block bg */

  /* ── Borders & shadows ── */
  --ifm-global-border-width: 1px;
  --ifm-global-radius: 6px;
  --ifm-global-shadow-lw: 0 1px 4px rgba(20, 20, 19, 0.06);
  --ifm-global-shadow-md: 0 2px 8px rgba(20, 20, 19, 0.08);

  /* ── Navbar ── */
  --ifm-navbar-background-color: #FAF9F3;  /* bg-100 */
  --ifm-navbar-shadow: none;
  --ifm-navbar-height: 4rem;
  --ifm-navbar-link-color: #141413;
  --ifm-navbar-link-hover-color: #C7593A;

  /* ── Footer ── */
  --ifm-footer-background-color: #141413;  /* text-000 — deep dark */
  --ifm-footer-color: #EDEADF;             /* bg-300 inverted */
  --ifm-footer-link-color: #FAF9F3;
  --ifm-footer-link-hover-color: #D97757;

  /* ── Sidebar ── */
  --doc-sidebar-width: 280px;

  /* ── Links ── */
  --ifm-link-color: #C7593A;    /* accent-main-000 */
  --ifm-link-hover-color: #A94B31;
  --ifm-link-hover-decoration: underline;

  /* ── Alerts/Admonitions ── */
  --ifm-alert-border-left-width: 3px;

  /* ── TOC ── */
  --ifm-toc-border-color: rgba(20, 20, 19, 0.10);  /* border-100 at hairline opacity */

  /* ── HR ── */
  --ifm-hr-background-color: rgba(20, 20, 19, 0.10);
  --ifm-hr-height: 1px;

  /* ── Breadcrumbs ── */
  --ifm-breadcrumb-color-active: #C7593A;

  /* ── Custom tokens ── */
  --claude-rule-color: rgba(20, 20, 19, 0.10);     /* hairline: border at 15% opacity */
  --claude-rule-accent: #C7593A;
  --claude-caption-color: #726F6A;                   /* text-400 */
  --claude-surface-elevated: #FFFFFF;                /* bg-000 */
  --claude-bg-300: #EDEADF;
  --claude-bg-400: #E6E2D5;
  --docusaurus-highlighted-code-line-bg: rgba(199, 89, 58, 0.08);
}

/* ═══════════════════════════════════════
   DARK THEME
   Warm olive-brown backgrounds, not cool gray
   ═══════════════════════════════════════ */
[data-theme='dark'] {
  /* ── Accent shifts lighter in dark mode ── */
  --ifm-color-primary: #D97757;        /* accent-main-100 dark */
  --ifm-color-primary-dark: #D46541;
  --ifm-color-primary-darker: #CF5D37;
  --ifm-color-primary-darkest: #AE4A29;
  --ifm-color-primary-light: #E08D6F;
  --ifm-color-primary-lighter: #E39779;
  --ifm-color-primary-lightest: #EBB6A0;

  /* ── Warm dark backgrounds ── */
  --ifm-background-color: #262624;       /* bg-100 dark: hsl(60,2.7%,14.5%) */
  --ifm-background-surface-color: #1F1E1D; /* bg-200 dark: hsl(30,3.3%,11.8%) */

  /* ── Text ── */
  --ifm-font-color-base: #FAF9F3;       /* text-000 dark — warm white */
  --ifm-font-color-secondary: #BFB9AE;  /* text-200/300 dark */
  --ifm-heading-color: #FAF9F3;

  /* ── Code ── */
  --ifm-code-background: #30302E;       /* bg-000 dark: hsl(60,2.1%,18.4%) */
  --prism-background-color: #141413;    /* bg-300 dark */

  /* ── Navbar ── */
  --ifm-navbar-background-color: #262624;
  --ifm-navbar-link-color: #FAF9F3;
  --ifm-navbar-link-hover-color: #D97757;

  /* ── Footer ── */
  --ifm-footer-background-color: #141413;  /* bg-300 dark */
  --ifm-footer-color: #BFB9AE;
  --ifm-footer-link-color: #FAF9F3;
  --ifm-footer-link-hover-color: #D97757;

  /* ── Links ── */
  --ifm-link-color: #D97757;
  --ifm-link-hover-color: #EBB6A0;

  /* ── Borders — light at 15% opacity in dark mode ── */
  --ifm-toc-border-color: rgba(221, 216, 202, 0.15);
  --ifm-hr-background-color: rgba(221, 216, 202, 0.15);

  /* ── Custom tokens ── */
  --claude-rule-color: rgba(221, 216, 202, 0.15);
  --claude-rule-accent: #D97757;
  --claude-caption-color: #9A9790;       /* text-400 dark */
  --claude-surface-elevated: #30302E;    /* bg-000 dark: hsl(60,2.1%,18.4%) */
  --claude-bg-300: #141413;
  --claude-bg-400: #000000;
  --docusaurus-highlighted-code-line-bg: rgba(217, 119, 87, 0.10);
}

/* ═══════════════════════════════════════
   GLOBAL
   ═══════════════════════════════════════ */
html {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* ═══════════════════════════════════════
   TYPOGRAPHY
   ═══════════════════════════════════════ */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--ifm-heading-font-family);
  color: var(--ifm-heading-color);
  letter-spacing: -0.01em;
}

article h1,
.markdown h1 {
  font-size: 1.75rem;   /* matches --stldocs-font-size-h1 */
  font-weight: 700;
  line-height: 1.2;
  letter-spacing: -0.02em;
  margin-bottom: 1.25rem;
}

article h2,
.markdown h2 {
  font-size: 1.5rem;
  font-weight: 700;
  line-height: 1.3;
  margin-top: 2.5rem;
  padding-top: 1.5rem;
  border-top: 1px solid var(--claude-rule-color);
}

article h3,
.markdown h3 {
  font-size: 1.25rem;
  font-weight: 600;
  line-height: 1.4;
  margin-top: 2rem;
}

article h4,
.markdown h4 {
  font-size: 1.1rem;
  font-weight: 600;
  line-height: 1.4;
  margin-top: 1.5rem;
}

.markdown p,
article p {
  font-size: 1.05rem;
  line-height: 1.65;
  margin-bottom: 1.25rem;
}

.markdown strong,
article strong {
  font-weight: 600;
  color: var(--ifm-heading-color);
}

.markdown blockquote,
article blockquote {
  border-left: 3px solid var(--claude-rule-accent);
  background: transparent;
  padding: 0.25rem 1.25rem;
  margin: 1.5rem 0;
  font-style: italic;
  color: var(--ifm-font-color-secondary);
}

/* ═══════════════════════════════════════
   INLINE CODE
   ═══════════════════════════════════════ */
:not(pre) > code {
  background: var(--ifm-code-background);
  border: 1px solid rgba(20, 20, 19, 0.08);
  font-weight: 500;
  color: var(--ifm-font-color-base);
}

[data-theme='dark'] :not(pre) > code {
  border-color: rgba(221, 216, 202, 0.10);
}

/* ═══════════════════════════════════════
   CODE BLOCKS
   ═══════════════════════════════════════ */
pre {
  border: none;
  border-radius: 6px;
}

.prism-code {
  font-size: 0.875rem;
  line-height: 1.6;
}

/* ═══════════════════════════════════════
   TABLES
   ═══════════════════════════════════════ */
table {
  font-size: 0.95rem;
  border-collapse: collapse;
  width: 100%;
  margin: 1.5rem 0;
}

table thead {
  border-bottom: 2px solid var(--ifm-heading-color);
}

table thead th {
  font-weight: 600;
  font-size: 0.9rem;
  padding: 0.5rem 0.75rem;
  color: var(--ifm-heading-color);
  background: transparent;
}

table tbody tr {
  border-bottom: 1px solid var(--claude-rule-color);
}

table tbody td {
  padding: 0.5rem 0.75rem;
  vertical-align: top;
}

table tbody tr:hover {
  background: rgba(199, 89, 58, 0.03);
}

[data-theme='dark'] table tbody tr:hover {
  background: rgba(217, 119, 87, 0.04);
}

/* ═══════════════════════════════════════
   LISTS
   ═══════════════════════════════════════ */
.markdown ul,
.markdown ol {
  line-height: 1.65;
  margin-bottom: 1.25rem;
}

.markdown li + li {
  margin-top: 0.3rem;
}

/* ═══════════════════════════════════════
   HR
   ═══════════════════════════════════════ */
hr {
  border: none;
  height: 1px;
  background: var(--claude-rule-color);
  margin: 2.5rem 0;
}

/* ═══════════════════════════════════════
   NAVBAR
   ═══════════════════════════════════════ */
.navbar {
  border-bottom: 1px solid var(--claude-rule-color);
  box-shadow: none;
}

.navbar__title {
  font-family: var(--claude-font-ui);
  font-weight: 700;
  font-size: 1.2rem;
  letter-spacing: -0.01em;
}

.navbar__link {
  font-family: var(--claude-font-ui);
  font-weight: 500;
  font-size: 0.95rem;
}

/* ═══════════════════════════════════════
   SIDEBAR
   ═══════════════════════════════════════ */
.theme-doc-sidebar-container {
  border-right: 1px solid var(--claude-rule-color) !important;
}

[data-theme='dark'] .theme-doc-sidebar-container {
  background: #1F1E1D;
}

.menu__link {
  font-family: var(--claude-font-ui);
  font-size: 0.95rem;
  font-weight: 470;
  line-height: 1.5;
  border-radius: 6px;
  transition: color 0.15s ease;
}

.menu__link--active:not(.menu__link--sublist) {
  background: #E8E6DC;
  font-weight: 600;
  color: #141413;
}

[data-theme='dark'] .menu__link--active:not(.menu__link--sublist) {
  background: #000000;
  color: #FAF9F5;
}

.menu__list-item-collapsible .menu__link {
  font-family: var(--claude-font-ui);
  font-weight: 600;
  font-size: 0.9rem;
}

/* ═══════════════════════════════════════
   TOC (right sidebar)
   ═══════════════════════════════════════ */
.table-of-contents {
  font-family: var(--claude-font-ui);
  font-size: 0.85rem;
  border-left: 1px solid var(--claude-rule-color);
}

.table-of-contents__link--active {
  font-weight: 600;
  color: #141413;
}

[data-theme='dark'] .table-of-contents__link--active {
  color: #FAF9F3;
}

/* ═══════════════════════════════════════
   ADMONITIONS
   ═══════════════════════════════════════ */
.alert {
  border-radius: 6px;
  border-width: 0;
  border-left-width: 3px;
}

/* Note — blue (accent-secondary) */
.alert--secondary {
  --ifm-alert-background-color: hsl(211, 72%, 90%);
  --ifm-alert-border-color: hsl(210, 71%, 52%);
  --ifm-alert-foreground-color: #141413;
}

/* Info — blue */
.alert--info {
  --ifm-alert-background-color: hsl(211, 72%, 90%);
  --ifm-alert-border-color: hsl(210, 71%, 52%);
  --ifm-alert-foreground-color: #141413;
}

/* Tip — green (success) */
.alert--success {
  --ifm-alert-background-color: hsl(86, 45%, 90%);
  --ifm-alert-border-color: hsl(103, 72%, 27%);
  --ifm-alert-foreground-color: #141413;
}

/* Caution — amber (warning) */
.alert--warning {
  --ifm-alert-background-color: hsl(38, 66%, 92%);
  --ifm-alert-border-color: hsl(39, 89%, 28%);
  --ifm-alert-foreground-color: #141413;
}

/* Danger — red */
.alert--danger {
  --ifm-alert-background-color: hsl(0, 50%, 95%);
  --ifm-alert-border-color: hsl(0, 56%, 45%);
  --ifm-alert-foreground-color: #141413;
}

/* Dark mode admonitions */
[data-theme='dark'] .alert--secondary {
  --ifm-alert-background-color: hsl(210, 56%, 25%);
  --ifm-alert-border-color: hsl(210, 66%, 67%);
  --ifm-alert-foreground-color: #FAF9F3;
}

[data-theme='dark'] .alert--info {
  --ifm-alert-background-color: hsl(210, 56%, 25%);
  --ifm-alert-border-color: hsl(210, 66%, 67%);
  --ifm-alert-foreground-color: #FAF9F3;
}

[data-theme='dark'] .alert--success {
  --ifm-alert-background-color: hsl(127, 100%, 14%);
  --ifm-alert-border-color: hsl(97, 59%, 46%);
  --ifm-alert-foreground-color: #FAF9F3;
}

[data-theme='dark'] .alert--warning {
  --ifm-alert-background-color: hsl(45, 95%, 15%);
  --ifm-alert-border-color: hsl(40, 71%, 50%);
  --ifm-alert-foreground-color: #FAF9F3;
}

[data-theme='dark'] .alert--danger {
  --ifm-alert-background-color: hsl(0, 47%, 28%);
  --ifm-alert-border-color: hsl(0, 98%, 75%);
  --ifm-alert-foreground-color: #FAF9F3;
}

/* Inline code inside admonitions */
.alert :not(pre) > code {
  background: rgba(0, 0, 0, 0.08);
  border-color: rgba(0, 0, 0, 0.12);
}

[data-theme='dark'] .alert :not(pre) > code {
  background: rgba(255, 255, 255, 0.10);
  border-color: rgba(255, 255, 255, 0.15);
}

/* ═══════════════════════════════════════
   PAGINATION (prev/next)
   ═══════════════════════════════════════ */
.pagination-nav__link {
  border: 1px solid var(--claude-rule-color);
  border-radius: 6px;
  transition: border-color 0.15s ease, box-shadow 0.15s ease;
}

.pagination-nav__link:hover {
  border-color: var(--claude-rule-accent);
  box-shadow: var(--ifm-global-shadow-lw);
}

.pagination-nav__sublabel {
  font-family: var(--claude-font-ui);
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: var(--claude-caption-color);
}

.pagination-nav__label {
  font-family: var(--claude-font-ui);
  font-weight: 600;
}

/* ═══════════════════════════════════════
   BREADCRUMBS
   ═══════════════════════════════════════ */
.breadcrumbs__link {
  font-family: var(--claude-font-ui);
  font-size: 0.8rem;
  letter-spacing: 0.02em;
}

/* ═══════════════════════════════════════
   FOOTER — minimal, centered
   ═══════════════════════════════════════ */
.footer {
  border-top: 1px solid var(--claude-rule-color);
  padding: 1.5rem 0;
}

.footer .footer__copyright {
  font-family: var(--claude-font-ui);
  font-size: 0.8rem;
  text-align: center;
  color: var(--ifm-footer-color);
}

/* ═══════════════════════════════════════
   SEARCH INPUT
   ═══════════════════════════════════════ */
.navbar__search-input {
  border-radius: 6px;
  font-family: var(--claude-font-ui);
}

/* ═══════════════════════════════════════
   DOC METADATA / LEAD PARAGRAPH
   ═══════════════════════════════════════ */
.theme-doc-markdown header + p,
article > header + p {
  font-size: 1.1rem;
  color: var(--ifm-font-color-secondary);
  line-height: 1.6;
}

/* ═══════════════════════════════════════
   SCROLLBAR
   ═══════════════════════════════════════ */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--claude-rule-color);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--claude-caption-color);
}

/* ═══════════════════════════════════════
   MERMAID DIAGRAMS
   ═══════════════════════════════════════ */
.docusaurus-mermaid-container {
  overflow-x: auto;
}

.docusaurus-mermaid-container svg[id^="mermaid"] {
  height: auto !important;
  min-width: 600px;
}

.docusaurus-mermaid-container svg foreignObject {
  overflow: visible !important;
}

.docusaurus-mermaid-container svg foreignObject div {
  white-space: nowrap !important;
}

/* ═══════════════════════════════════════
   TEXT SELECTION
   ═══════════════════════════════════════ */
::selection {
  background: #E8E6DC;
}

[data-theme='dark'] ::selection {
  background: #666761;
}
